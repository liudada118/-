<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="warpper">

    </div>
    <script>
        class LikeButton {
            constructor() {
                this.state = { isLiked: true }
                console.log(this.state.isLiked)
            }
            render() {
                
                return `
                 <button id = "like-btn">
                    <span class="link-text">${this.state.isLiked?'点赞':'取消'}</span>
                    </button>
                `
                console.log(this.state.isLiked)
            }
        }

        const warpper = document.querySelector('.warpper')
        const likeButton = new LikeButton();
        // const linkText = document.querySelector('.link-text')
        warpper.innerHTML = likeButton.render()
        const a = function(event) {
            console.log(event)
            this.state.isLiked = !this.state.isLiked
            console.log(this.state.isLiked)
            warpper.innerHTML='none'
            warpper.innerHTML = likeButton.render()
        }
        warpper.addEventListener('click', function(event) {
            if(event.target==span||event.target==button){a.call(likeButton,'event')}
            
        },false)
    </script>
</body>

</html>